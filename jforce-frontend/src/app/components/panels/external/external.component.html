<div class="panel-style external-panel">
  <div class="content">
    <div class="title">
      <h1>External Input</h1>

      <div class="right-buttons">
        <p-buttongroup>
          <button
            pButton
            pRipple
            type="button"
            severity="primary"
            label="Upload Data"
            (click)="toggleImportData()"
            variant="outlined"
            [ngClass]="{ selected: !importData }"
          ></button>
          <button
            pButton
            pRipple
            type="button"
            severity="primary"
            label="Input Data"
            (click)="toggleImportData()"
            variant="outlined"
            [ngClass]="{ selected: importData }"
          ></button>
        </p-buttongroup>
      </div>
    </div>

    <form class="formGroup" [formGroup]="formGroup">
      <div class="container">
        <app-card
          *ngIf="importData; else uploadData"
          formGroupName="import"
          header="Import External Input"
        >
          <div class="container">
            <div class="row">
              <div class="col">
                <label name="ogStartTime" for="ogStartTime"> Start Time </label>
                <input
                  type="datetime-local"
                  formControlName="ogStartTime"
                  [max]="maxDateTime"
                />

                <label name="ogEndTime" for="ogEndTime"> End Time </label>
                <input
                  type="datetime-local"
                  formControlName="ogEndTime"
                  [max]="maxDateTime"
                />
              </div>

              <div class="col">
                <div class="col downwards">
                  <label title="feeds">Data Feeds</label>

                  <div class="row-1">
                    <input
                      type="checkbox"
                      class="checkbox"
                      id="type1"
                      formControlName="type1"
                      placeholder="type1"
                    />
                    <label title="feeds" for="type1">Type 1</label>
                  </div>
                  <div class="row-1">
                    <input
                      type="checkbox"
                      class="checkbox"
                      id="type2"
                      formControlName="type2"
                      placeholder="type2"
                    />
                    <label title="feeds" for="type2">Type 2</label>
                  </div>
                  <div class="row-1">
                    <input
                      type="checkbox"
                      class="checkbox"
                      id="type3"
                      formControlName="type3"
                      placeholder="type3"
                    />
                    <label title="feeds" for="type3">Type 3</label>
                  </div>
                  <div class="row-1">
                    <input
                      type="checkbox"
                      class="checkbox"
                      id="type4"
                      formControlName="type4"
                      placeholder="type4"
                    />
                    <label title="feeds" for="type4">Type 4</label>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </app-card>

        <ng-template #uploadData formGroupName="upload">
          <div class="row">
            <app-card header="Upload External Input">
              <label for="uploadFromFile">Upload From CSV</label>
              <input class="form-control" type="file" id="uploadFromFile" />
            </app-card>
          </div>
        </ng-template>

        <app-card header="External Input Modifications">
          <div class="labelAndTooltip">
            <label name="ogStartTime" for="ogStartTime">New Start Time</label>
            <i
              class="bi bi-info-circle info"
              title="All times will be modified based on the difference between 'Original Start Time' and 'New Start Time'"
            ></i>
          </div>

          <input type="datetime-local" formControlName="newStartTime" />
        </app-card>
      </div>
    </form>
  </div>
</div>
